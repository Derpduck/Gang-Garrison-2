<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event category="STEP" id="0">
  <actions>
    <action id="603" library="1">
      <!--action name: Code-->
      <kind>CODE</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>true</canApplyTo>
      <actionType>CODE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING">if global.myself.team==TEAM_SPECTATOR and global.isCasting==1{
    if mouseMode==2{
        if keyboard_check(global.left) or keyboard_check(global.right) or keyboard_check(global.jump) or keyboard_check(global.down){
            cursorUpdate=false
            mouseMode=0
            with Spectator{
                hspeed=0
                vspeed=0
            }
        }
        if mouse_check_button(mb_left) and cursorUpdate{
            with Spectator{
                hspeed=0
                vspeed=0
            }
            _x=mouse_x
            _y=mouse_y
            cursorUpdate=false
        }
        if mouse_check_button(mb_left) and !cursorUpdate{
            _px=mouse_x
            _py=mouse_y 
            
            _dx=_x-_px
            _dy=_y-_py
            
            with Spectator{
                x+=other._dx/4*global.delta_factor
                y+=other._dy/4*global.delta_factor
            }
        }
        if mouse_check_button_released(mb_left) and !cursorUpdate{
            with Spectator{
                hspeed=other._dx/4*global.delta_factor
                vspeed=other._dy/4*global.delta_factor
            }
            cursorUpdate=true
        }
        if mouse_check_button(mb_right) and cursorUpdate{
            cursorUpdate=false
            with Spectator{
                hspeed=0
                vspeed=0
            }
        }
        if mouse_check_button_released(mb_right) and !cursorUpdate{
            cursorUpdate=true
        }
    }
}
</argument>
      </arguments>
    </action>
  </actions>
</event>
